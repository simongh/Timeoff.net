<h1>New company</h1>

<flash-message [errors]="errors" [messages]="messages"/>

<div class="row">
    <div class="col-md-6 lead">Register new company account and supervisor user</div>
</div>

<div class="row">
    <div class="col-md-9">
        <form class="form-horizontal" [formGroup]="registerForm">

            <div class="form-group">
                <label for="companyName" class="col-md-2 control-label">Company name</label>
                <div class="col-md-6">
                    <input class="form-control" placeholder="Company name" formControlName="companyName">
                    <small class="text-danger" *ngIf="registerForm.controls.companyName.touched && registerForm.controls.companyName.errors?.['required']">A valid company name is required</small>
                </div>
            </div>

            <div class="form-group">
                <label for="firstName" class="col-md-2 control-label">First Name</label>
                <div class="col-md-6">
                    <input class="form-control" placeholder="First name" formControlName="firstName">
                    <small class="text-danger" *ngIf="registerForm.controls.firstName.touched && registerForm.controls.firstName.errors?.['required']">A valid first name is required</small>
                </div>
            </div>

            <div class="form-group">
                <label for="lastName" class="col-md-2 control-label">Last Name</label>
                <div class="col-md-6">
                    <input class="form-control" placeholder="Last Name" formControlName="lastName">
                    <small class="text-danger" *ngIf="registerForm.controls.lastName.touched && registerForm.controls.lastName.errors?.['required']">A valid last name is required</small>
                </div>
            </div>

            <div class="form-group">
                <label for="email" class="col-md-2 control-label">Email Address</label>
                <div class="col-md-6">
                    <input class="form-control" type="email" placeholder="Email" formControlName="email">
                    <small class="text-danger" *ngIf="registerForm.controls.email.touched && registerForm.controls.email.errors">A valid email is required</small>
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="col-md-2 control-label">Password</label>
                <div class="col-md-6">
                    <input class="form-control" type="password" placeholder="Password" formControlName="password">
                    <small class="text-danger" *ngIf="registerForm.controls.password.touched && registerForm.controls.password.errors?.['required']">A valid password is required</small>
                    <small class="text-danger" *ngIf="registerForm.controls.password.touched && registerForm.controls.password.errors?.['minlength']">Password must be at least 8 characters</small>
                </div>
            </div>


            <div class="form-group">
                <label for="confirmPassword" class="col-md-2 control-label">Confirm Password</label>
                <div class="col-md-6">
                    <input class="form-control" type="password" placeholder="Password" formControlName="confirmPassword">
                    <small class="text-danger" *ngIf="registerForm.controls.confirmPassword.touched && registerForm.errors?.['notMatched']">The password must match</small>
                </div>
            </div>

            <div class="form-group">
                <label for="country" class="col-md-2 control-label">Country</label>
                <div class="col-md-6">
                    <select class="form-control" placeholder="Country name">
                        <option *ngFor="let country of countries" value="country.code">{{country.code}}: {{ country.name }}</option>
                    </select>
                    <small class="text-danger" *ngIf="registerForm.controls.country.touched && registerForm.errors?.['invalidCountry']">Invalid country selected</small>
                </div>
            </div>

            <div class="form-group">
                <label for="timezone_inp" class="col-md-2 control-label">Time zone</label>
                <div class="col-md-6">
                    <select class="form-control" placeholder="Time zone" asp-for="TimeZone">
                        <option *ngFor="let tz of timezones" value="tz.name" selected="selected">{{ tz.description }}</option>
                    </select>
                    <small class="text-danger" *ngIf="registerForm.controls.timezone.touched && registerForm.errors?.['invalidTimezone']">Invalid timezone selected</small>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-6">
                    <button id="submit_registration" type="submit" class="btn btn-success" (click)="register()" [disabled]="submitting">Create</button>
                </div>
            </div>

        </form>
    </div>

</div>